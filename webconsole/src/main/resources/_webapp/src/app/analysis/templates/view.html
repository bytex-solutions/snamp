<div id="viewMenu" [class.hided]="!showSettings">
    <div role="tabpanel" data-example-id="togglable-tabs">
        <ul id="myTab1" class="nav nav-tabs bar_tabs" role="tablist">
            <li role="presentation" class=""><a href="#tab_info" id="home-tabb" role="tab" data-toggle="tab"
                                                aria-controls="info" aria-expanded="false"
                                                *ngIf="metadata && nodeSelected">Information</a></li>
            <li role="presentation" class="active"><a href="#tab_settings" role="tab" id="profile-tabb"
                                                      data-toggle="tab" aria-controls="settings" aria-expanded="true">Nodes
                settings</a></li>
            <li role="presentation" class=""><a href="#tab_cy" role="tab" id="cy-tabb" data-toggle="tab"
                                                aria-controls="cy" aria-expanded="false">Graph settings</a></li>
        </ul>
        <div id="myTabContent2" class="tab-content">
            <div role="tabpanel" class="tab-pane fade " id="tab_info" aria-labelledby="info-tab"
                 *ngIf="metadata && nodeSelected">
                <div>
                    <timeInterval [id]="'availabilityToggle'" [jsonObject]="metadata.availability"
                                  [title]="'Availability'"></timeInterval>
                    <timeInterval [id]="'maxRatePerSecondToggle'" [jsonObject]="metadata.maxRatePerSecond"
                                  [title]="'Max rate per second'"></timeInterval>
                    <timeInterval [id]="'maxResponseTimeToggle'" [jsonObject]="metadata.maxResponseTime"
                                  [title]="'Max response time'"></timeInterval>
                    <timeInterval [id]="'meanRateToggle'" [jsonObject]="metadata.meanRate"
                                  [title]="'Mean rate'"></timeInterval>
                    <timeInterval [id]="'meanResponseTimeToggle'" [jsonObject]="metadata.meanResponseTime"
                                  [title]="'Mean response time'"></timeInterval>

                    <div class="row">
                        <dt class="col-sm-4">Channels:</dt>
                        <dd class="col-sm-8">{{metadata.channels}}</dd>
                    </div>

                    <div class="row">
                        <dt class="col-sm-4">Efficiency:</dt>
                        <dd class="col-sm-8">{{metadata.efficiency}}</dd>
                    </div>

                    <div class="row">
                        <dt class="col-sm-4">Scalability:</dt>
                        <dd class="col-sm-8">{{metadata.scalability}}</dd>
                    </div>

                    <div class="row">
                        <dt class="col-sm-4">Response time (90):</dt>
                        <dd class="col-sm-8">{{metadata.responseTime90}}</dd>
                    </div>

                    <div class="row">
                        <dt class="col-sm-4">Response time (95):</dt>
                        <dd class="col-sm-8">{{metadata.responseTime95}}</dd>
                    </div>

                    <div class="row">
                        <dt class="col-sm-4">Response time (98):</dt>
                        <dd class="col-sm-8">{{metadata.responseTime98}}</dd>
                    </div>

                    <div class="row">
                        <dt class="col-sm-4">Response time standard deviation:</dt>
                        <dd class="col-sm-8">{{metadata.responseTimeStdDev}}</dd>
                    </div>
                </div>
                <div *ngIf="metadata && !nodeSelected">{{metadata}}</div>
                <div *ngIf="!metadata">No data is available</div>
            </div>
            <div role="tabpanel" class="tab-pane fade active in" id="tab_settings" aria-labelledby="settings-tab">
                <p>Select needful information to display on graph: </p>
                <checkboxGroup [id]="'availabilityCheckboxToggle'" [title]="'Availability'"
                               [formName]="'availability'"></checkboxGroup>
                <checkboxGroup [id]="'maxRatePerSecondCheckboxToggle'" [title]="'Max rate per second'"
                               [formName]="'maxRatePerSecond'"></checkboxGroup>
                <checkboxGroup [id]="'maxResponseTimeCheckboxToggle'" [title]="'Max response time'"
                               [formName]="'maxResponseTime'"></checkboxGroup>
                <checkboxGroup [id]="'meanRateCheckboxToggle'" [title]="'Mean rate'"
                               [formName]="'meanRate'"></checkboxGroup>
                <checkboxGroup [id]="'meanResponseTimeCheckboxToggle'" [title]="'Mean response time'"
                               [formName]="'meanResponseTime'"></checkboxGroup>

                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'channels'">
                            Channels
                        </label>
                    </div>
                </div>

                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'efficiency'">
                            Efficiency
                        </label>
                    </div>
                </div>


                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'scalability'">
                            Scalability
                        </label>
                    </div>
                </div>


                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'responseTime90'">
                            Response time (90)
                        </label>
                    </div>
                </div>


                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'responseTime95'">
                            Response time (95)
                        </label>
                    </div>
                </div>


                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'responseTime98'">
                            Response time (98)
                        </label>
                    </div>
                </div>


                <div class="row">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [attr.name]="'responseTimeStdDev'">
                            Response time standard deviation
                        </label>
                    </div>
                </div>

                <div class="row">
                    <button class="btn btn-primary" (click)="saveCheckboxStatus()">Apply</button>
                </div>

            </div>
            <div role="tabpanel" class="tab-pane fade" id="tab_cy" aria-labelledby="cy-tab">

                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 col-xs-12 middleVertical"
                           for="layout-select">Layout</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <select class="form-control" [(ngModel)]="selectedLayout"
                                (ngModelChange)="onChangeLayout($event)" id="layout-select">
                            <option value="random">Random</option>
                            <option value="grid">Grid</option>
                            <option value="circle">Circle</option>
                            <option value="concentric">Concentric</option>
                            <option value="breadthfirst">Breadthfirst</option>
                            <option value="cose">Cose</option>
                        </select>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Text size (px)</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="number" [(ngModel)]="textSize" id="text-size-input"
                               placeholder="Input text size" (ngModelChange)="onChangeTextSize($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Text color</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="color" [(ngModel)]="textColor" id="text-color-input"
                               placeholder="Input text color" (ngModelChange)="onChangeTextColor($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Background color</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="color" [(ngModel)]="backgroundColor"
                               id="background-color-input" placeholder="Input background color"
                               (ngModelChange)="onChangeBackgroundColor($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Text outline color</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="color" [(ngModel)]="textOutlineColor"
                               id="text-outline-color-input" placeholder="Input text outline color"
                               (ngModelChange)="onChangeTextOutlineColor($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Text outline width</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="number" [(ngModel)]="textOutlineWidth"
                               id="text-outline-width-input" placeholder="Input text outline width"
                               (ngModelChange)="onChangeTextOutlineWidth($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Text weight</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="number" [(ngModel)]="textWeight" id="text-weight-input"
                               placeholder="Input text weight" (ngModelChange)="onChangeTextWeight($event)" step="100"
                               min="100" max="900">
                    </div>
                </div>

                <div class="row">
                    <h5>Edge settings</h5>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Edge line width</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="number" [(ngModel)]="edgeWidth" id="edge-width-input"
                               placeholder="Input edge line width" (ngModelChange)="onChangeEdgeWidth($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Edge line color</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="color" [(ngModel)]="edgeLineColor" id="edge-line-color-input"
                               placeholder="Input edge line color" (ngModelChange)="onChangeEdgeLineColor($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label for="text-size-input" class="col-md-3 col-sm-3 col-xs-12">Edge arrow color</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <input class="form-control" type="color" [(ngModel)]="edgeArrowColor"
                               id="edge-arrow-color-input" placeholder="Input edge arrow color"
                               (ngModelChange)="onChangeEdgeArrowColor($event)">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="control-label col-md-3 col-sm-3 col-xs-12 middleVertical" for="edge-shape-select">Edge
                        arrow shape</label>
                    <div class="col-md-9 col-sm-9 col-xs-12">
                        <select class="form-control" [(ngModel)]="edgeArrowShape"
                                (ngModelChange)="onChangeEdgeArrowShape($event)" id="edge-shape-select">
                            <option value="tee">Tee</option>
                            <option value="triangle">Triangle</option>
                            <option value="triangle-tee">Triangle tee</option>
                            <option value="triangle-backcurve">Triangle backcurve</option>
                            <option value="square">Square</option>
                            <option value="circle">Circle</option>
                            <option value="diamond">Diamond</option>
                            <option value="none">None</option>
                        </select>
                    </div>
                </div>

                <div class="row">
                    <button class="btn btn-primary" (click)="resetView()">Reset view</button>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="right_col" role="main" style="min-height: 949px;">

    <div class="row" style="padding-right: 10px;">
        <div class="col-md-4" style="padding-top: 20px;">
            <h3>End-to-End {{(currentViewObs | async)?.name}} {{'(' + ((currentViewObs | async)?.type) + ')'}}</h3>
        </div>

        <div class="col-md-6"></div>

        <div class="col-md-2" style="padding-top: 20px;">

            <div class="row" style="float: right">
                <button class="btn btn-danger" (click)="removeView()"><i class="fa fa-trash"></i></button>
                <button class="btn btn-primary" id="btnSettings" (click)="toggleShowSettings()"><i class="fa" [class.fa-angle-up]="showSettings" [class.fa-angle-down]="!showSettings"></i> Settings</button>
            </div>
        </div>
    </div>

    <hr/>

    <div class="clearfix"></div>

    <div class="row container">
        <div class="col-md-12">
            <div [attr.id]="(currentViewObs | async)?.id" class="cyObject" style="min-height: 900px;"></div>
        </div>
    </div>

</div>

